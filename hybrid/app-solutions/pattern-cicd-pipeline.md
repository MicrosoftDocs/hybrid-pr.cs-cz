---
title: Vzor DevOps v centru Azure Stack
description: Přečtěte si o vzorech DevOps, abyste mohli zajistit konzistenci napříč nasazeními v Azure a centra Azure Stack.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: e26056a9507a7467473b009725d4f210d9d59ec8
ms.sourcegitcommit: d2def847937178f68177507be151df2aa8e25d53
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/20/2020
ms.locfileid: "86477231"
---
# <a name="devops-pattern"></a><span data-ttu-id="c1048-103">Vzor DevOps</span><span class="sxs-lookup"><span data-stu-id="c1048-103">DevOps pattern</span></span>

<span data-ttu-id="c1048-104">Kód z jednoho umístění a nasazení na více cílů ve vývojových, testovacích a produkčních prostředích, která můžou být v místním datacentru, privátních cloudech nebo ve veřejném cloudu.</span><span class="sxs-lookup"><span data-stu-id="c1048-104">Code from a single location and deploy to multiple targets in development, test, and production environments that may be in your local datacenter, private clouds, or the public cloud.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="c1048-105">Kontext a problém</span><span class="sxs-lookup"><span data-stu-id="c1048-105">Context and problem</span></span>

<span data-ttu-id="c1048-106">Kontinuita nasazení aplikace, zabezpečení a spolehlivost jsou zásadní pro organizace a kritické pro vývojové týmy.</span><span class="sxs-lookup"><span data-stu-id="c1048-106">Application deployment continuity, security, and reliability are essential to organizations and critical to development teams.</span></span>

<span data-ttu-id="c1048-107">Aplikace často vyžadují refaktoring kódu ke spuštění v každém cílovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-107">Apps often require refactored code to run in each target environment.</span></span> <span data-ttu-id="c1048-108">To znamená, že aplikace není zcela přenosná.</span><span class="sxs-lookup"><span data-stu-id="c1048-108">This means that an app isn't completely portable.</span></span> <span data-ttu-id="c1048-109">Je nutné ho aktualizovat, otestovat a ověřit při pohybu přes každé prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-109">It must be updated, tested, and validated as it moves through each environment.</span></span> <span data-ttu-id="c1048-110">Například kód napsaný ve vývojovém prostředí musí být přepsán pro práci v testovacím prostředí a přepsán, pokud je nakonec v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-110">For example, code written in a development environment must then be rewritten to work in a test environment and rewritten when it finally lands in a production environment.</span></span> <span data-ttu-id="c1048-111">Kromě toho je tento kód konkrétně svázán s hostitelem.</span><span class="sxs-lookup"><span data-stu-id="c1048-111">Furthermore, this code is specifically tied to the host.</span></span> <span data-ttu-id="c1048-112">Tím se zvýší náklady a složitost údržby aplikace.</span><span class="sxs-lookup"><span data-stu-id="c1048-112">This increases the cost and complexity of maintaining your app.</span></span> <span data-ttu-id="c1048-113">Každá verze aplikace je vázaná na každé prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-113">Each version of the app is tied to each environment.</span></span> <span data-ttu-id="c1048-114">Zvýšení složitosti a duplicit zvyšuje riziko zabezpečení a kvality kódu.</span><span class="sxs-lookup"><span data-stu-id="c1048-114">The increased complexity and duplication increase the risk of security and code quality.</span></span> <span data-ttu-id="c1048-115">Kromě toho se kód nedá snadno znovu nasadit, když odeberete rutiny obnovit neúspěšné hostitele nebo nasadíte další hostitele, aby se podařilo zvýšit nároky na poptávku.</span><span class="sxs-lookup"><span data-stu-id="c1048-115">In addition, the code can't be readily redeployed when you remove restore failed hosts or deploy additional hosts to handle increases in demand.</span></span>

## <a name="solution"></a><span data-ttu-id="c1048-116">Řešení</span><span class="sxs-lookup"><span data-stu-id="c1048-116">Solution</span></span>

<span data-ttu-id="c1048-117">Vzor DevOps vám umožňuje sestavovat, testovat a nasazovat aplikace, které běží na více cloudech.</span><span class="sxs-lookup"><span data-stu-id="c1048-117">The DevOps Pattern enables you to build, test, and deploy an app that runs on multiple clouds.</span></span> <span data-ttu-id="c1048-118">Tento vzor jednotek vydává postupy průběžné integrace a průběžného doručování.</span><span class="sxs-lookup"><span data-stu-id="c1048-118">This pattern unites the practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="c1048-119">S průběžnou integrací je kód sestaven a testován pokaždé, když člen týmu potvrdí změnu ve správě verzí.</span><span class="sxs-lookup"><span data-stu-id="c1048-119">With continuous integration, code is built and tested every time a team member commits a change to version control.</span></span> <span data-ttu-id="c1048-120">Průběžné doručování automatizuje každý krok z buildu do produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-120">Continuous delivery automates each step from a build to a production environment.</span></span> <span data-ttu-id="c1048-121">Tyto procesy společně vytvoří proces vydání, který podporuje nasazení napříč různými prostředími.</span><span class="sxs-lookup"><span data-stu-id="c1048-121">Together, these processes create a release process that supports deployment across diverse environments.</span></span> <span data-ttu-id="c1048-122">Pomocí tohoto modelu můžete vytvořit koncept kódu a pak nasadit stejný kód do místního prostředí, různých privátních cloudů a veřejných cloudů.</span><span class="sxs-lookup"><span data-stu-id="c1048-122">With this pattern, you can draft your code and then deploy the same code to a premise environment, different private clouds, and the public clouds.</span></span> <span data-ttu-id="c1048-123">Rozdíly v prostředí vyžadují změnu konfiguračního souboru, nikoli změny kódu.</span><span class="sxs-lookup"><span data-stu-id="c1048-123">Differences in environment require a change to a configuration file rather than changes to the code.</span></span>

![Vzor DevOps](media/pattern-cicd-pipeline/hybrid-ci-cd.png)

<span data-ttu-id="c1048-125">Díky konzistentní sadě vývojářských nástrojů v místních, privátních a veřejných cloudových prostředích můžete implementovat postupy průběžné integrace a průběžného doručování.</span><span class="sxs-lookup"><span data-stu-id="c1048-125">With a consistent set of development tools across on-premises, private cloud, and public cloud environments, you can implement a practice of continuous integration and continuous delivery.</span></span> <span data-ttu-id="c1048-126">Aplikace a služby nasazené pomocí modelu DevOps jsou zaměnitelné a můžou běžet v libovolném z těchto umístění, a to s využitím místních a veřejných cloudových funkcí a možností.</span><span class="sxs-lookup"><span data-stu-id="c1048-126">Apps and services deployed using the DevOps Pattern are interchangeable and can run in any of these locations, taking advantage of on-premises and public cloud features and capabilities.</span></span>

<span data-ttu-id="c1048-127">Použití kanálu pro vydávání verzí DevOps vám pomůže:</span><span class="sxs-lookup"><span data-stu-id="c1048-127">Using a DevOps release pipeline helps you:</span></span>

- <span data-ttu-id="c1048-128">Iniciuje nové sestavení založené na potvrzeních kódu do jediného úložiště.</span><span class="sxs-lookup"><span data-stu-id="c1048-128">Initiate a new build based on code commits to a single repository.</span></span>
- <span data-ttu-id="c1048-129">K automatickému nasazení nově vytvořeného kódu ve veřejném cloudu pro testování přijetí uživateli.</span><span class="sxs-lookup"><span data-stu-id="c1048-129">Automatically deploy your newly built code to the public cloud for user acceptance testing.</span></span>
- <span data-ttu-id="c1048-130">Automatické nasazení do privátního cloudu, jakmile váš kód prošel testováním.</span><span class="sxs-lookup"><span data-stu-id="c1048-130">Automatically deploy to a private cloud once your code has passed testing.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="c1048-131">Problémy a důležité informace</span><span class="sxs-lookup"><span data-stu-id="c1048-131">Issues and considerations</span></span>

<span data-ttu-id="c1048-132">Vzor DevOps je určený k zajištění konzistence napříč nasazeními bez ohledu na cílové prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-132">The DevOps Pattern is intended to ensure consistency across deployments regardless of the target environment.</span></span> <span data-ttu-id="c1048-133">Možnosti se ale liší v cloudových i místních prostředích.</span><span class="sxs-lookup"><span data-stu-id="c1048-133">However, capabilities vary across cloud and on-premises environments.</span></span> <span data-ttu-id="c1048-134">Vezměte v úvahu následující body:</span><span class="sxs-lookup"><span data-stu-id="c1048-134">Consider the following points:</span></span>

- <span data-ttu-id="c1048-135">Jsou funkce, koncové body, služby a další prostředky v nasazení dostupné v cílových umístěních nasazení?</span><span class="sxs-lookup"><span data-stu-id="c1048-135">Are the functions, endpoints, services, and other resources in your deployment available in the target deployment locations?</span></span>
- <span data-ttu-id="c1048-136">Jsou artefakty konfigurace uložené v umístěních, která jsou přístupná napříč cloudy?</span><span class="sxs-lookup"><span data-stu-id="c1048-136">Are configuration artifacts stored in locations that are accessible across clouds?</span></span>
- <span data-ttu-id="c1048-137">Budou parametry nasazení fungovat ve všech cílových prostředích?</span><span class="sxs-lookup"><span data-stu-id="c1048-137">Will deployment parameters work in all the target environments?</span></span>
- <span data-ttu-id="c1048-138">Jsou vlastnosti specifické pro prostředky dostupné ve všech cílových cloudech?</span><span class="sxs-lookup"><span data-stu-id="c1048-138">Are resource-specific properties available in all target clouds?</span></span>

<span data-ttu-id="c1048-139">Další informace najdete v tématu [vývoj šablon Azure Resource Manager pro cloudovou konzistenci](/azure/azure-resource-manager/templates-cloud-consistency).</span><span class="sxs-lookup"><span data-stu-id="c1048-139">For more information, see [Develop Azure Resource Manager templates for cloud consistency](/azure/azure-resource-manager/templates-cloud-consistency).</span></span>

<span data-ttu-id="c1048-140">Při rozhodování, jak tento model implementovat, zvažte také následující body:</span><span class="sxs-lookup"><span data-stu-id="c1048-140">In addition, consider the following points when deciding how to implement this pattern:</span></span>

### <a name="scalability"></a><span data-ttu-id="c1048-141">Škálovatelnost</span><span class="sxs-lookup"><span data-stu-id="c1048-141">Scalability</span></span>

<span data-ttu-id="c1048-142">Systémy automatizace nasazení jsou klíčovým řídicím bodem ve vzorech DevOps.</span><span class="sxs-lookup"><span data-stu-id="c1048-142">Deployment automation systems are the key control point in the DevOps Patterns.</span></span> <span data-ttu-id="c1048-143">Implementace se můžou lišit.</span><span class="sxs-lookup"><span data-stu-id="c1048-143">Implementations can vary.</span></span> <span data-ttu-id="c1048-144">Výběr správné velikosti serveru závisí na velikosti očekávaného zatížení.</span><span class="sxs-lookup"><span data-stu-id="c1048-144">The selection of the correct server size depends on the size of the expected workload.</span></span> <span data-ttu-id="c1048-145">Větší náklady na virtuální počítače se škálují od kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="c1048-145">VMs cost more to scale than containers.</span></span> <span data-ttu-id="c1048-146">Pokud chcete ke škálování použít kontejnery, musí ale být kontejnery využité při procesu sestavování.</span><span class="sxs-lookup"><span data-stu-id="c1048-146">To use containers for scaling, however, your build process must run with containers.</span></span>

### <a name="availability"></a><span data-ttu-id="c1048-147">Dostupnost</span><span class="sxs-lookup"><span data-stu-id="c1048-147">Availability</span></span>

<span data-ttu-id="c1048-148">Dostupnost v kontextu DevPattern znamená, že je možné obnovit všechny informace o stavu přidružené k vašemu pracovnímu postupu, jako jsou například výsledky testů, závislosti kódu nebo jiné artefakty.</span><span class="sxs-lookup"><span data-stu-id="c1048-148">Availability in the context of the DevPattern means being able to recover any state information associated with your workflow, such as test results, code dependencies, or other artifacts.</span></span> <span data-ttu-id="c1048-149">Při vyhodnocování požadavků na dostupnost vezměte v úvahu dvě běžné metriky:</span><span class="sxs-lookup"><span data-stu-id="c1048-149">To assess your availability requirements, consider two common metrics:</span></span>

- <span data-ttu-id="c1048-150">Plánovaná doba obnovení (RTO) určuje, jak dlouho můžete bez systému přejít.</span><span class="sxs-lookup"><span data-stu-id="c1048-150">Recovery Time Objective (RTO) specifies how long you can go without a system.</span></span>

- <span data-ttu-id="c1048-151">Cíl bodu obnovení (RPO) indikuje, kolik dat se může hodit, pokud má dopad na systém vliv přerušení služby.</span><span class="sxs-lookup"><span data-stu-id="c1048-151">Recovery Point Objective (RPO) indicates how much data you can afford to lose if a disruption in service affects the system.</span></span>

<span data-ttu-id="c1048-152">V praxi RTO a RPO implikuje redundanci a zálohování.</span><span class="sxs-lookup"><span data-stu-id="c1048-152">In practice, RTO, and RPO imply redundancy and backup.</span></span> <span data-ttu-id="c1048-153">V globálním cloudu Azure se dostupnost nedotazuje na obnovení hardwaru – to je součástí Azure – ale ale zajišťuje, abyste zachovali stav DevOps systémů.</span><span class="sxs-lookup"><span data-stu-id="c1048-153">On the global Azure cloud, availability isn't a question of hardware recovery—that's part of Azure—but rather ensuring you maintain the state of your DevOps systems.</span></span> <span data-ttu-id="c1048-154">V centru Azure Stack se může zvážit obnovení hardwaru.</span><span class="sxs-lookup"><span data-stu-id="c1048-154">On Azure Stack Hub, hardware recovery may be a consideration.</span></span>

<span data-ttu-id="c1048-155">Dalším důležitým aspektem při navrhování systému používaného pro automatizaci nasazení je řízení přístupu a správná Správa práv potřebných k nasazení služeb do cloudových prostředí.</span><span class="sxs-lookup"><span data-stu-id="c1048-155">Another major consideration when designing the system used for deployment automation is access control and the proper management of the rights needed to deploy services to cloud environments.</span></span> <span data-ttu-id="c1048-156">Jaká práva jsou nutná k vytváření, odstraňování a úpravám nasazení?</span><span class="sxs-lookup"><span data-stu-id="c1048-156">What rights are needed to create, delete, or modify deployments?</span></span> <span data-ttu-id="c1048-157">Například jedna sada práv je obvykle nutná k vytvoření skupiny prostředků v Azure a další pro nasazení služeb ve skupině prostředků.</span><span class="sxs-lookup"><span data-stu-id="c1048-157">For example, one set of rights is typically required to create a resource group in Azure and another to deploy services in the resource group.</span></span>

### <a name="manageability"></a><span data-ttu-id="c1048-158">Možnosti správy</span><span class="sxs-lookup"><span data-stu-id="c1048-158">Manageability</span></span>

<span data-ttu-id="c1048-159">Návrh jakéhokoli systému, který je založený na vzorech DevOps, musí vzít v úvahu automatizaci, protokolování a upozorňování na každou službu v rámci portfolia.</span><span class="sxs-lookup"><span data-stu-id="c1048-159">The design of any system based on the DevOps pattern must consider automation, logging, and alerting for each service across the portfolio.</span></span> <span data-ttu-id="c1048-160">Používejte taky sdílené služby, aplikační tým nebo obojí a sledujte taky zásady zabezpečení a zásady správného řízení.</span><span class="sxs-lookup"><span data-stu-id="c1048-160">Use shared services, an application team, or both, and track security policies and governance as well.</span></span>

<span data-ttu-id="c1048-161">Nasaďte produkční prostředí a vývojové a testovací prostředí do samostatných skupin prostředků v Azure nebo centra Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="c1048-161">Deploy production environments and development/test environments in separate resource groups on Azure or Azure Stack Hub.</span></span> <span data-ttu-id="c1048-162">Pak můžete monitorovat prostředky jednotlivých prostředí a účtovat fakturační náklady podle skupin prostředků.</span><span class="sxs-lookup"><span data-stu-id="c1048-162">Then you can monitor each environment's resources and roll up billing costs by resource group.</span></span> <span data-ttu-id="c1048-163">Prostředky můžete také odstranit jako sadu, což je užitečné pro testovací nasazení.</span><span class="sxs-lookup"><span data-stu-id="c1048-163">You can also delete resources as a set, which is useful for test deployments.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="c1048-164">Kdy se má tento model použít</span><span class="sxs-lookup"><span data-stu-id="c1048-164">When to use this pattern</span></span>

<span data-ttu-id="c1048-165">Tento model použijte v těchto případech:</span><span class="sxs-lookup"><span data-stu-id="c1048-165">Use this pattern if:</span></span>

- <span data-ttu-id="c1048-166">Můžete vyvíjet kód v jednom prostředí, které vyhovuje potřebám vašich vývojářů, a nasazovat do prostředí specifického pro vaše řešení, kde může být obtížné vyvíjet nový kód.</span><span class="sxs-lookup"><span data-stu-id="c1048-166">You can develop code in one environment that meets the needs of your developers, and deploy to an environment specific to your solution where it may be difficult to develop new code.</span></span>
- <span data-ttu-id="c1048-167">Můžete použít kód a nástroje, které vaše vývojáři budou chtít, pokud budou moci postupovat podle procesu kontinuální integrace a průběžného doručování ve vzoru DevOps.</span><span class="sxs-lookup"><span data-stu-id="c1048-167">You can use the code and tools your developers would like, as long as they're able to follow the continuous integration and continuous delivery process in the DevOps Pattern.</span></span>

<span data-ttu-id="c1048-168">Tento model se nedoporučuje:</span><span class="sxs-lookup"><span data-stu-id="c1048-168">This pattern isn't recommended:</span></span>

- <span data-ttu-id="c1048-169">Pokud nemůžete automatizovat infrastrukturu, zřizování prostředků, konfigurace, identity a zabezpečení úloh.</span><span class="sxs-lookup"><span data-stu-id="c1048-169">If you can't automate infrastructure, provisioning resources, configuration, identity, and security tasks.</span></span>
- <span data-ttu-id="c1048-170">Pokud týmy nemají přístup k hybridním cloudovým prostředkům a implementují přístup k průběžným Integracim a průběžnému vývoji (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="c1048-170">If teams don't have access to hybrid cloud resources to implement a Continuous Integration/Continuous Development (CI/CD) approach.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c1048-171">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c1048-171">Next steps</span></span>

<span data-ttu-id="c1048-172">Další informace o tématech zavedených v tomto článku:</span><span class="sxs-lookup"><span data-stu-id="c1048-172">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="c1048-173">Další informace o Azure DevOps a souvisejících nástrojích, včetně Azure Repos a Azure Pipelines, najdete v [dokumentaci ke službě Azure DevOps](/azure/devops) .</span><span class="sxs-lookup"><span data-stu-id="c1048-173">See the [Azure DevOps documentation](/azure/devops) to learn more about Azure DevOps and related tools, including Azure Repos, and Azure Pipelines.</span></span>
- <span data-ttu-id="c1048-174">Další informace o celém portfoliu produktů a řešení najdete v [Azure Stack rodině produktů a řešení](/azure-stack) .</span><span class="sxs-lookup"><span data-stu-id="c1048-174">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="c1048-175">Až budete připraveni otestovat příklad řešení, pokračujte pomocí [Průvodce nasazením hybridní CI/CD řešení DevOps](https://aka.ms/hybriddevopsdeploy).</span><span class="sxs-lookup"><span data-stu-id="c1048-175">When you're ready to test the solution example, continue with the [DevOps hybrid CI/CD solution deployment guide](https://aka.ms/hybriddevopsdeploy).</span></span> <span data-ttu-id="c1048-176">Průvodce nasazením poskytuje podrobné pokyny pro nasazení a testování jeho komponent.</span><span class="sxs-lookup"><span data-stu-id="c1048-176">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span> <span data-ttu-id="c1048-177">Naučíte se, jak nasadit aplikaci do Azure a Azure Stack centra pomocí kanálu hybridního průběžné integrace nebo průběžného doručování (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="c1048-177">You learn how to deploy an app to Azure and Azure Stack Hub using a hybrid continuous integration/continuous delivery (CI/CD) pipeline.</span></span>
